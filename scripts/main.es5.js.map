{"version":3,"sources":["main.es6.js"],"names":[],"mappings":"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","file":"main.es5.js","sourcesContent":["/**\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\n// Initializes the Sticky Notes app.\n// CathyLi 2020-02-07 - Initializes the class of StickyNotesApp instead of a function as above\nclass StickyNotesApp {\n  // CathyLi 2020-02-07 - Add a contructor() for the class\n  constructor() {\n    // Shortcuts to DOM Elements.\n    this.notesContainer = document.getElementById('notes-container');\n    this.noteMessageInput = document.getElementById('message');\n    this.addNoteButton = document.getElementById('save');\n    this.notesSectionTitle = document.getElementById('notes-section-title');\n\n    // Saves notes on button click.\n    // CathyLi 2020-02-07 - use arrow function autobinding instead of named function binding.\n    this.addNoteButton.addEventListener('click', () => this.saveNote());\n\n    // Toggle for the button.\n    this.noteMessageInput.addEventListener('keyup', () => this.toggleButton());\n\n    // Loads all the notes.\n    for (let key in localStorage) {\n      this.displayNote(key, localStorage[key]);\n    }\n\n    // Listen for updates to notes from other windows.\n    window.addEventListener('storage', e => this.displayNote(e.key, e.newValue));\n  }\n\n  // Saves a new sticky note on localStorage.\n  // CathyLi 2020-02-07 - update to a class method saveNote() instead of a function method\n  saveNote() {\n    if (this.noteMessageInput.value) {\n      let key = Date.now().toString();\n      localStorage.setItem(key, this.noteMessageInput.value);\n      this.displayNote(key, this.noteMessageInput.value);\n      // CathyLi 2020-02-07 - resetMaterialTextfield is a static method which is called on the class itself (i.e. StickyNotesApp), not on a class instance\n      StickyNotesApp.resetMaterialTextfield(this.noteMessageInput); \n      this.toggleButton();\n    }\n  }\n\n  // Resets the given MaterialTextField.\n  // CathyLi 2020-02-07 - update to a static class method resetMaterialTextfield() instead of a function method\n  static restMaterialTextfield(element) {\n\n  // CathyLi 2020-02-07 - reSetMaterialTextfield is a static method, it does not have StickyNotesApp.prototype syntax as other methods\n  //StickyNotesApp.resetMaterialTextfield = function(element) {\n    element.value = '';\n    element.parentNode.MaterialTextfield.boundUpdateClassesHandler();\n    element.blur();\n  }\n\n  // Creates/updates/deletes a note in the UI.\n  // CathyLi 2020-02-07 - update to a class method displayNote(key, message) instead of a function method\n  displayNote(key, message) {\n    let note = document.getElementById(key);\n    // If no element with the given key exists we create a new note.\n    if (!note) {\n      note = document.createElement('sticky-note');\n      note.id = key;\n      this.notesContainer.insertBefore(note, this.notesSectionTitle.nextSibling);\n    }\n    // If the message is null we delete the note.\n    if (!message) {\n      return note.deleteNote();\n    }\n    note.setMessage(message);\n  }\n\n  // Enables or disables the submit button depending on the values of the input field.\n  // CathyLi 2020-02-07- update to a class method toggleButton() instead of a function method\n  toggleButton() {\n    if (this.noteMessageInput.value) {\n      this.addNoteButton.removeAttribute('disabled');\n    } else {\n      this.addNoteButton.setAttribute('disabled', 'true');\n    }\n  }\n}\n\n// On load start the app.\nwindow.addEventListener('load', () => new StickyNotesApp());\n\n// A Sticky Note custom element that extends HTMLElement.\n// CathyLi 2020-02-07 - use clas syntax to create a class element that extends HTMLElement\nclass StickyNote extends HTMLElement {\n  // Fires when an instance of the element is created.\n  connectedCallback() {\n    // CathyLi 2020-02-07 - pass any iterable objects (like arrays) and spread them as parameters of function calls\n    //    use spread operator on the array of StickyNote.CLASSES[] at the bottom of script\n\n    //StickyNote.CLASSES.forEach(function(klass) {\n      //this.classList.add(klass);\n    //}.bind(this));\n\n    this.classList.add(...StickyNote.CLASSES);\n\n    this.innerHTML = StickyNote.TEMPLATE;\n    this.messageElement = this.querySelector('.message');\n    this.dateElement = this.querySelector('.date');\n    this.deleteButton = this.querySelector('.delete');\n    this.deleteButton.addEventListener('click', () => this.deleteNote());\n  }\n\n  // Fires when an attribute of the element is added/deleted/modified.\n  attributeChangedCallback(attributeName) {\n    // We display/update the created date message if the id changes.\n    if (attributeName == 'id') {\n      // CathyLi 2020-02-07 - change var to let requires to move date declaration out of if statement\n      let date; \n      if (this.id) {\n        date = new Date(parseInt(this.id));\n      } else {\n        date = new Date();\n      }\n\n      // CathyLi 2020-02-07 - use Intl.DateTimeFormat to format the date and time\n      //let month = StickyNote.MONTHS[date.getMonth()];\n      let dateFormatterOptions = { date: 'numeric', month: 'short' };\n      let shortDate = new Intl.DateTimeFormat(\"en-US\", dateFormatterOptions).format(date);\n      \n      // CathyLi 2020-02-07 - replaced the following to template literal\n      //this.dateElement.textContent = 'Created on ' + month + ' ' + date.getDate();\n      this.dateElement.textContent = `Create on ${ shortDate }`; \n    }\n  }\n\n  // Sets the message of the note.\n  setMessage(message) {\n    this.messageElement.textContent = message;\n    // Replace all line breaks by <br>.\n    this.messageElement.innerHTML = this.messageElement.innerHTML.replace(/\\n/g, '<br>');\n  }\n\n  // Deletes the note by removing the element from the DOM and the data from localStorage.\n  deleteNote() {\n    localStorage.removeItem(this.id);\n    this.parentNode.removeChild(this);\n  }\n}\n \n// CathyLi 2020-02-07 - ES2015 did not define any new way to declare static or class fields.\n//    You will have to stick to the former syntax (e.g. StickyNote.TEMPLATE = ...). But maybe we'll get this in ES2016/ES7\n\n// Initial content of the element.\n// CathyLi 2020-02-07 - uses template literal\nStickyNote.TEMPLATE = \n`<div class=\"message\"></div>\n <div class=\"date\"></div>\n <button class=\"delete mdl-button mdl-js-button mdl-js-ripple-effect\"> Delete </button>`;\n\n// StickyNote elements top level style classes.\nStickyNote.CLASSES = ['mdl-cell--4-col-desktop', 'mdl-card__supporting-text', 'mdl-cell--12-col',\n  'mdl-shadow--2dp', 'mdl-cell--4-col-tablet', 'mdl-card', 'mdl-cell', 'sticky-note'];\n\n// List of shortened month names.\nStickyNote.MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov',\n                     'Dec'];\n\n// CathyLi 2020-02-07 - removed prototype keyword to apply with class syntax\ncustomElements.define('sticky-note', StickyNote);\n"]}